<ion-header>
  <ion-navbar color="atp-blue-light">
    <ion-title>
      Highscores
    </ion-title>
    <ion-buttons start>
      <button ion-button (click)="close()">Close</button>
    </ion-buttons>
  </ion-navbar>
  <ion-segment [(ngModel)]="selection" (ionChange)="ionChange()" color="atp-blue-light">
    <ion-segment-button value="week">Weekly Highscores</ion-segment-button>
    <ion-segment-button value="total">All-time Highscores</ion-segment-button>
  </ion-segment>
</ion-header>
<ion-content>

  <ion-item color="white" class="buttongroup" no-lines>
    <span item-right>
          <button ion-button small [outline]="showTotalGlobal ? null : ''" (click)="switchTotalGlobalLocal()">Global</button>
            <button ion-button small [outline]="(showTotalGlobal === false) ? null : ''" (click)="switchTotalGlobalLocal()">Local</button>
    </span>
  </ion-item>
  <div [ngSwitch]="selection">
    <ion-list *ngSwitchCase="'week'" padding class="no-padding-vertical">
      <ion-item *ngIf="showWeekGlobal && !weekGlobalLoaded" class="text-center"><ion-spinner name="bubbles"></ion-spinner></ion-item>
      <ion-item *ngIf="!showWeekGlobal && !weekLocalLoaded" class="text-center"><ion-spinner name="bubbles"></ion-spinner></ion-item>
      <highscore-entry [highscore]="showWeekGlobal ? highscoreWeekGlobal : highscoreWeekLocal" [showWeek]="true"></highscore-entry>
    </ion-list>
    <ion-list *ngSwitchCase="'total'" padding class="no-padding-vertical">
      <ion-item *ngIf="showTotalGlobal && !totalGlobalLoaded" class="text-center"><ion-spinner name="bubbles"></ion-spinner></ion-item>
      <ion-item *ngIf="!showTotalGlobal && !totalLocalLoaded" class="text-center"><ion-spinner name="bubbles"></ion-spinner></ion-item>
      <highscore-entry [highscore]="showTotalGlobal ? highscoreTotalGlobal : highscoreTotalLocal" [showWeek]="false"></highscore-entry>
    </ion-list>
  </div>
</ion-content>
