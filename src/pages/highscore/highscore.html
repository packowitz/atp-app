<ion-header>
  <ion-navbar color="atp-blue-light">
    <ion-title>
      Highscores
    </ion-title>
    <ion-buttons start>
      <button ion-button (click)="close()">Close</button>
    </ion-buttons>
  </ion-navbar>
  <ion-segment [(ngModel)]="selection" (ionChange)="ionChange()" color="atp-blue-light">
    <ion-segment-button value="week">Weekly</ion-segment-button>
    <ion-segment-button value="total">All-time</ion-segment-button>
  </ion-segment>
</ion-header>
<ion-content>

  <ion-item color="white" class="buttongroup" no-lines>
    <span item-right>
          <button ion-button small [outline]="showTotalGlobal ? null : ''" (click)="switchTotalGlobalLocal()">Global</button>
            <button ion-button small [outline]="(showTotalGlobal === false) ? null : ''" (click)="switchTotalGlobalLocal()">Local</button>
    </span>
  </ion-item>
  <div [ngSwitch]="selection">
    <ion-list *ngSwitchCase="'week'">
      <spinner *ngIf="(showWeekGlobal && !weekGlobalLoaded) || (!showWeekGlobal && !weekLocalLoaded)" [message]="'Loading highscores'"></spinner>
      <highscore-entry [highscore]="showWeekGlobal ? highscoreWeekGlobal : highscoreWeekLocal" [showWeek]="true"></highscore-entry>
    </ion-list>
    <ion-list *ngSwitchCase="'total'">
      <spinner *ngIf="(showTotalGlobal && !totalGlobalLoaded) || (!showTotalGlobal && !totalLocalLoaded)" [message]="'Loading highscores'"></spinner>
      <highscore-entry [highscore]="showTotalGlobal ? highscoreTotalGlobal : highscoreTotalLocal" [showWeek]="false"></highscore-entry>
    </ion-list>
  </div>
</ion-content>
