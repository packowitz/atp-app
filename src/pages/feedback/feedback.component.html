<ion-header>
  <ion-navbar [color]="platform.is('android') ? 'atp-blue-light' : 'light'">
    <ion-title>My Feedback</ion-title>
    <ion-buttons left>
      <button ion-button icon-only (click)="close()">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content class="feedback-page grey-background" padding>
  <ion-list>
    <ion-item *ngFor="let feedback of model.feedback" (click)="showFeedbackDetails(feedback)">
      <div class="small-headline">
        <span *ngIf="feedback.type == 'IMPROVEMENT'">Improvement idea</span>
        <span *ngIf="feedback.type == 'BUG_REPORT'">Bug Report</span>
        <span *ngIf="feedback.type == 'MESSAGE_SUGGESTION'">Message Suggestion</span>
        <span *ngIf="feedback.type == 'OTHER'">Feedback</span>
        {{getTimeDiff(feedback.lastActionDate)}} ago
      </div>
      <div *ngIf="feedback.unreadAnswers > 0"><span *ngIf="feedback.status == 'CLOSED'" class="color-grey"><ion-icon name="lock"></ion-icon> </span><strong>{{feedback.title}}</strong> <ion-badge danger>{{feedback.unreadAnswers}}</ion-badge></div>
      <div *ngIf="feedback.unreadAnswers == 0"><span *ngIf="feedback.status == 'CLOSED'" class="color-grey"><ion-icon name="lock"></ion-icon> </span>{{feedback.title}}</div>
      <ion-icon item-right ios="ios-arrow-forward" md="ios-arrow-forward"></ion-icon>
    </ion-item>
  </ion-list>

  <ion-fab right bottom #fab>
    <button ion-fab color="atp-green"><ion-icon name="add"></ion-icon></button>
    <ion-fab-list side="top">
      <button ion-fab (click)="showOtherFeedbackPage(fab)"><div class="label">Other</div><ion-icon color="atp-green" name="paper"></ion-icon></button>
      <button ion-fab (click)="showMessageSuggestionPage(fab)"><div class="label">Message</div><ion-icon color="atp-green" name="mail"></ion-icon></button>
      <button ion-fab (click)="showBugReportPage(fab)"><div class="label">Bug</div><ion-icon color="atp-green" name="bug"></ion-icon></button>
      <button ion-fab (click)="showImprovementPage(fab)"><div class="label">Improvement</div><ion-icon color="atp-green" name="bulb"></ion-icon></button>
    </ion-fab-list>
  </ion-fab>
</ion-content>
