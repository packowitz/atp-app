<ion-header>
  <ion-navbar>
    <ion-title>My Feedback</ion-title>
    <ion-buttons left>
      <button ion-button icon-only (click)="close()">
        <ion-icon name="close"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>
</ion-header>

<ion-content class="feedback-page grey-background" padding>
  <ion-list>
    <ion-item *ngFor="let feedback of model.feedback" (click)="showFeedbackDetails(feedback)">
      <div class="small-headline">
        <span *ngIf="feedback.type == 'IMPROVEMENT'">Improvement idea</span>
        <span *ngIf="feedback.type == 'BUG_REPORT'">Bug Report</span>
        <span *ngIf="feedback.type == 'MESSAGE_SUGGESTION'">Message Suggestion</span>
        <span *ngIf="feedback.type == 'OTHER'">Feedback</span>
        {{getTimeDiff(feedback.lastActionDate)}} ago
      </div>
      <div *ngIf="feedback.unreadAnswers > 0"><span *ngIf="feedback.status == 'CLOSED'" class="color-grey"><ion-icon name="lock"></ion-icon> </span><strong>{{feedback.title}}</strong> <ion-badge danger>{{feedback.unreadAnswers}}</ion-badge></div>
      <div *ngIf="feedback.unreadAnswers == 0"><span *ngIf="feedback.status == 'CLOSED'" class="color-grey"><ion-icon name="lock"></ion-icon> </span>{{feedback.title}}</div>
      <ion-icon item-right ios="ios-arrow-forward" md="ios-arrow-forward"></ion-icon>
    </ion-item>
  </ion-list>
</ion-content>
